<html xmlns:tm="http://www.thymeleaf.org">
<html>
<title>Home</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<script src="/js/jquery-3.6.0.min.js"></script>
<script>
    $(document).ready(function(){
        console.log('home');
        $('#btn_list').on('click', function(){
            $.get('/boards', function(data){
                console.log(data);
            });
        });

        $('#btn_read').on('click', function(){
            $.get('/boards/' + $('#inp_bd_no').val(), function(data){
                console.log(data);
            });

        });

        $('#btn_post').on('click', function(){

            var boardData = {
                title : $('#title').val()
                , content : $('#content').val()
                , author_nm : $('#author_nm').val()
            }

            $.ajax({
                url : '/boards'
                , type : 'POST'
                , data : JSON.stringify(boardData)
                , contentType : 'application/json; charset=UTF-8'
                , success : function(data){
                    console.log(data);
                }
                , error : function(req, status, error) {
                    console.log(req + status + error);
                }
            });

        });

        $('#btn_modify').on('click', function(){

            var boardData = {
                title : $('#title').val()
                , content : $('#content').val()
                , author_nm : $('#author_nm').val()
                , bd_no : '1'
            }

            $.ajax({
                url : '/boards'
                , type : 'PUT'
                , data : JSON.stringify(boardData)
                , contentType : 'application/json; charset=UTF-8'
                , success : function(data){
                    console.log(data);
                }
                , error : function(req, status, error) {
                    console.log(req + status + error);
                }
            });

        });

        $('#btn_delete').on('click', function(){
            $.ajax({
                url : '/boards/' + $('#inp_bd_no').val()
                , type : 'DELETE'
                , contentType : 'application/json; charset=UTF-8'
                , success : function(data){
                    console.log(data);
                }
                , error : function(req, status, error) {
                    console.log(req + status + error);
                }
            });

        });
    });
</script>
<body>
<h1>Hello World</h1>
<p th:text="${serverTime}">  The time on the server is ${serverTime}</p>
<p>한글을 써봅시다. 한글도 잘써집니다.</p>
<h2 th:text="#{common.homeWelcome}"></h2>
<button id="btn_list">리스트</button>
<input type="text" id="inp_bd_no">
<button id="btn_read">게시글</button><br>
<label for="title">제목 </label><input type="text" id="title"><br>
<label for="content">내용 </label><input type="text" id="content"><br>
<label for="author_nm">작성자 </label><input type="text" id="author_nm"><br>
<button id="btn_post">작성</button><br>
<button id="btn_delete">삭제</button><br>
<button id="btn_modify">수정</button><br>
</body>
</html>